<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.0.0/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
  </head>

  <body style="margin:0; overflow:hidden;">
    <a-scene
      mindar-image="imageTargetSrc: ./targets.mind;"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >
      
      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <!-- TARGET 0 -->
      <a-entity mindar-image-target="targetIndex: 0">
          <a-gltf-model 
            id="modeloLucas"
            src="./lucas.glb"
            position="0 0 0"
            scale="0.5 0.5 0.5"
            rotation="0 0 0">
          </a-gltf-model>
      </a-entity>

      <!-- TARGET 1 -->
      <a-entity mindar-image-target="targetIndex: 1">
          <a-box position="0 0 0.2" depth="0.2" height="0.2" width="0.2"></a-box>
      </a-entity>

    </a-scene>

    <!-- SCRIPT DE ROTACIÃ“N -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const model = document.querySelector("#modeloLucas");

  let isDragging = false;
  let previousX = 0;
  let previousY = 0;

  window.addEventListener("touchstart", function (event) {
    isDragging = true;
    previousX = event.touches[0].clientX;
    previousY = event.touches[0].clientY;
  });

  window.addEventListener("touchmove", function (event) {
    if (!isDragging || !model) return;

    let deltaX = event.touches[0].clientX - previousX;
    let deltaY = event.touches[0].clientY - previousY;

    previousX = event.touches[0].clientX;
    previousY = event.touches[0].clientY;

    let currentRotation = model.getAttribute("rotation");

    model.setAttribute("rotation", {
      x: currentRotation.x + deltaY * 0.5,
      y: currentRotation.y + deltaX * 0.5,
      z: currentRotation.z
    });
  });

  window.addEventListener("touchend", function () {
    isDragging = false;
  });
});
</script>


  </body>
</html>


